{% extends "base.html" %}

{% block title %}Active Sessions - {{ vauban.brand_name }}{% endblock %}

{% block content %}
<!-- WebSocket connection for real-time updates -->
<div hx-ext="ws" ws-connect="/ws/sessions/active" class="space-y-6">
    <!-- Header -->
    <div class="md:flex md:items-center md:justify-between">
        <div class="min-w-0 flex-1">
            <h2 class="text-2xl font-bold leading-7 text-gray-900 dark:text-white sm:truncate sm:text-3xl sm:tracking-tight">
                Active Sessions
            </h2>
            <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">
                Currently connected sessions across all assets
            </p>
        </div>
        <!-- WebSocket status indicator -->
        <div class="flex items-center text-sm text-gray-500 dark:text-gray-400">
            <span class="ws-status inline-flex h-2 w-2 rounded-full bg-green-400 mr-2"></span>
            <span>Live</span>
        </div>
    </div>

    <!-- Stats (updated via WebSocket) -->
    <div id="ws-sessions-stats" class="grid grid-cols-1 gap-5 sm:grid-cols-3">
        {% include "sessions/active_list_stats.html" %}
    </div>

    <!-- Sessions list (updated via WebSocket) -->
    <div id="ws-sessions-list" class="bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden">
        {% include "sessions/active_list_content.html" %}
    </div>
</div>
{% endblock %}
