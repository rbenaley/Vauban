# VAUBAN Web - Production configuration
# Overrides default.toml values for the production environment.
#
# IMPORTANT: This file is a template. In production:
# - Set secret_key via the VAUBAN_SECRET_KEY environment variable
# - Or use a local.toml file (not versioned) for secrets

environment = "production"
# secret_key must be set via VAUBAN_SECRET_KEY or local.toml

[server]
host = "0.0.0.0"
port = 8443

# Production TLS certificates
# For Let's Encrypt:
#   cert_path = "/etc/letsencrypt/live/example.com/fullchain.pem"
#   key_path = "/etc/letsencrypt/live/example.com/privkey.pem"
# For Enterprise PKI, also set ca_chain_path for intermediate certs
[server.tls]
cert_path = "/etc/vauban/certs/server.crt"
key_path = "/etc/vauban/certs/server.key"
# ca_chain_path = "/etc/vauban/certs/ca-chain.crt"

[database]
max_connections = 20
min_connections = 5
connect_timeout_secs = 5

[cache]
enabled = true
default_ttl_secs = 7200

[logging]
level = "info"
format = "json"

[security]
password_min_length = 14
max_failed_login_attempts = 3
session_max_duration_secs = 14400   # 4 hours
session_idle_timeout_secs = 900     # 15 minutes
rate_limit_per_minute = 60

[grpc.mtls]
enabled = true

